<!DOCTYPE html><html><head><title>dropdown.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../../../../app/recSession.js.html" class="source "><span class="base_path">app / </span><span class="file_name">recSession.js</span></a><a href="../../../../../../app/routes.js.html" class="source "><span class="base_path">app / </span><span class="file_name">routes.js</span></a><a href="../../../../../../app/recSessions.js.html" class="source "><span class="base_path">app / </span><span class="file_name">recSessions.js</span></a><a href="../../../../../../app/utils.js.html" class="source "><span class="base_path">app / </span><span class="file_name">utils.js</span></a><a href="../../../../../../app/yelpApi.js.html" class="source "><span class="base_path">app / </span><span class="file_name">yelpApi.js</span></a><a href="../../../../../../app/scraper.js.html" class="source "><span class="base_path">app / </span><span class="file_name">scraper.js</span></a><a href="../../../../../../public/libs/semantic/examples/feed.js.html" class="source "><span class="base_path">public / libs / semantic / examples / </span><span class="file_name">feed.js</span></a><a href="../../../../../../public/libs/semantic/examples/homepage.js.html" class="source "><span class="base_path">public / libs / semantic / examples / </span><span class="file_name">homepage.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/checkbox.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">checkbox.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/dimmer.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">dimmer.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/dropdown.js.html" class="source selected"><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">dropdown.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/search.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">search.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/progress.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">progress.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/tab.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">tab.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/modal.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">modal.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/sticky.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">sticky.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/rating.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">rating.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/sidebar.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">sidebar.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/popup.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">popup.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/nag.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">nag.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/accordion.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">accordion.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/video.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">video.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/shape.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">shape.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/modules/transition.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / modules / </span><span class="file_name">transition.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/globals/site.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / globals / </span><span class="file_name">site.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/colorize.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">colorize.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/form.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">form.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/visit.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">visit.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/visibility.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">visibility.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/api.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">api.js</span></a><a href="../../../../../../public/libs/semantic/src/definitions/behaviors/state.js.html" class="source "><span class="base_path">public / libs / semantic / src / definitions / behaviors / </span><span class="file_name">state.js</span></a><a href="../../../../../../public/libs/semantic/dist/semantic.js.html" class="source "><span class="base_path">public / libs / semantic / dist / </span><span class="file_name">semantic.js</span></a><a href="../../../../../../public/libs/semantic/dist/semantic.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / </span><span class="file_name">semantic.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/dropdown.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">dropdown.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/visibility.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">visibility.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/dimmer.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">dimmer.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/video.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">video.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/modal.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">modal.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/checkbox.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">checkbox.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/dimmer.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">dimmer.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/dropdown.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">dropdown.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/accordion.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">accordion.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/colorize.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">colorize.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/state.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">state.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/site.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">site.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/search.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">search.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/popup.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">popup.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/transition.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">transition.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/form.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">form.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/colorize.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">colorize.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/progress.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">progress.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/site.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">site.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/form.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">form.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/sticky.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">sticky.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/visit.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">visit.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/tab.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">tab.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/modal.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">modal.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/search.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">search.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/sticky.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">sticky.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/progress.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">progress.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/rating.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">rating.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/sidebar.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">sidebar.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/visibility.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">visibility.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/api.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">api.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/popup.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">popup.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/rating.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">rating.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/nag.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">nag.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/accordion.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">accordion.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/checkbox.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">checkbox.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/nag.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">nag.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/video.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">video.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/tab.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">tab.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/shape.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">shape.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/state.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">state.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/visit.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">visit.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/api.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">api.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/sidebar.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">sidebar.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/shape.min.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">shape.min.js</span></a><a href="../../../../../../public/libs/semantic/dist/components/transition.js.html" class="source "><span class="base_path">public / libs / semantic / dist / components / </span><span class="file_name">transition.js</span></a><a href="../../../../../../public/libs/semantic/tasks/banner.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">banner.js</span></a><a href="../../../../../../public/libs/semantic/tasks/log.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">log.js</span></a><a href="../../../../../../public/libs/semantic/tasks/defaults.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">defaults.js</span></a><a href="../../../../../../public/libs/semantic/tasks/comments.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">comments.js</span></a><a href="../../../../../../public/libs/semantic/tasks/gulp-settings.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">gulp-settings.js</span></a><a href="../../../../../../public/libs/semantic/tasks/admin/oauth.example.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / admin / </span><span class="file_name">oauth.example.js</span></a><a href="../../../../../../public/libs/semantic/tasks/admin/release.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / admin / </span><span class="file_name">release.js</span></a><a href="../../../../../../public/libs/semantic/tasks/admin/questions.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / admin / </span><span class="file_name">questions.js</span></a><a href="../../../../../../public/libs/semantic/tasks/questions.js.html" class="source "><span class="base_path">public / libs / semantic / tasks / </span><span class="file_name">questions.js</span></a><a href="../../../../../../public/libs/semantic/karma.conf.js.html" class="source "><span class="base_path">public / libs / semantic / </span><span class="file_name">karma.conf.js</span></a><a href="../../../../../../public/libs/semantic/gulpfile.js.html" class="source "><span class="base_path">public / libs / semantic / </span><span class="file_name">gulpfile.js</span></a><a href="../../../../../../public/libs/jquery/src/dimensions.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">dimensions.js</span></a><a href="../../../../../../public/libs/jquery/src/data/Data.js.html" class="source "><span class="base_path">public / libs / jquery / src / data / </span><span class="file_name">Data.js</span></a><a href="../../../../../../public/libs/jquery/src/data/var/data_user.js.html" class="source "><span class="base_path">public / libs / jquery / src / data / var / </span><span class="file_name">data_user.js</span></a><a href="../../../../../../public/libs/jquery/src/data/var/data_priv.js.html" class="source "><span class="base_path">public / libs / jquery / src / data / var / </span><span class="file_name">data_priv.js</span></a><a href="../../../../../../public/libs/jquery/src/data/accepts.js.html" class="source "><span class="base_path">public / libs / jquery / src / data / </span><span class="file_name">accepts.js</span></a><a href="../../../../../../public/libs/jquery/src/outro.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">outro.js</span></a><a href="../../../../../../public/libs/jquery/src/wrap.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">wrap.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/xhr.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">xhr.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/parseJSON.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">parseJSON.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/parseXML.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">parseXML.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/script.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">script.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/load.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">load.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/var/rquery.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / var / </span><span class="file_name">rquery.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/var/nonce.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / var / </span><span class="file_name">nonce.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax/jsonp.js.html" class="source "><span class="base_path">public / libs / jquery / src / ajax / </span><span class="file_name">jsonp.js</span></a><a href="../../../../../../public/libs/jquery/src/effects/animatedSelector.js.html" class="source "><span class="base_path">public / libs / jquery / src / effects / </span><span class="file_name">animatedSelector.js</span></a><a href="../../../../../../public/libs/jquery/src/effects/Tween.js.html" class="source "><span class="base_path">public / libs / jquery / src / effects / </span><span class="file_name">Tween.js</span></a><a href="../../../../../../public/libs/jquery/src/selector-sizzle.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">selector-sizzle.js</span></a><a href="../../../../../../public/libs/jquery/src/effects.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">effects.js</span></a><a href="../../../../../../public/libs/jquery/src/selector-native.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">selector-native.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">attributes.js</span></a><a href="../../../../../../public/libs/jquery/src/core.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">core.js</span></a><a href="../../../../../../public/libs/jquery/src/serialize.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">serialize.js</span></a><a href="../../../../../../public/libs/jquery/src/selector.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">selector.js</span></a><a href="../../../../../../public/libs/jquery/src/deprecated.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">deprecated.js</span></a><a href="../../../../../../public/libs/jquery/src/event.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">event.js</span></a><a href="../../../../../../public/libs/jquery/src/manipulation/_evalUrl.js.html" class="source "><span class="base_path">public / libs / jquery / src / manipulation / </span><span class="file_name">_evalUrl.js</span></a><a href="../../../../../../public/libs/jquery/src/manipulation/var/rcheckableType.js.html" class="source "><span class="base_path">public / libs / jquery / src / manipulation / var / </span><span class="file_name">rcheckableType.js</span></a><a href="../../../../../../public/libs/jquery/src/manipulation/support.js.html" class="source "><span class="base_path">public / libs / jquery / src / manipulation / </span><span class="file_name">support.js</span></a><a href="../../../../../../public/libs/jquery/src/offset.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">offset.js</span></a><a href="../../../../../../public/libs/jquery/src/exports/global.js.html" class="source "><span class="base_path">public / libs / jquery / src / exports / </span><span class="file_name">global.js</span></a><a href="../../../../../../public/libs/jquery/src/exports/amd.js.html" class="source "><span class="base_path">public / libs / jquery / src / exports / </span><span class="file_name">amd.js</span></a><a href="../../../../../../public/libs/jquery/src/var/hasOwn.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">hasOwn.js</span></a><a href="../../../../../../public/libs/jquery/src/var/concat.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">concat.js</span></a><a href="../../../../../../public/libs/jquery/src/var/slice.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">slice.js</span></a><a href="../../../../../../public/libs/jquery/src/var/rnotwhite.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">rnotwhite.js</span></a><a href="../../../../../../public/libs/jquery/src/var/arr.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">arr.js</span></a><a href="../../../../../../public/libs/jquery/src/var/indexOf.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">indexOf.js</span></a><a href="../../../../../../public/libs/jquery/src/var/class2type.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">class2type.js</span></a><a href="../../../../../../public/libs/jquery/src/var/pnum.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">pnum.js</span></a><a href="../../../../../../public/libs/jquery/src/var/strundefined.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">strundefined.js</span></a><a href="../../../../../../public/libs/jquery/src/var/support.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">support.js</span></a><a href="../../../../../../public/libs/jquery/src/var/push.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">push.js</span></a><a href="../../../../../../public/libs/jquery/src/var/toString.js.html" class="source "><span class="base_path">public / libs / jquery / src / var / </span><span class="file_name">toString.js</span></a><a href="../../../../../../public/libs/jquery/src/traversing.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">traversing.js</span></a><a href="../../../../../../public/libs/jquery/src/queue.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">queue.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes/prop.js.html" class="source "><span class="base_path">public / libs / jquery / src / attributes / </span><span class="file_name">prop.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes/attr.js.html" class="source "><span class="base_path">public / libs / jquery / src / attributes / </span><span class="file_name">attr.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes/support.js.html" class="source "><span class="base_path">public / libs / jquery / src / attributes / </span><span class="file_name">support.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes/val.js.html" class="source "><span class="base_path">public / libs / jquery / src / attributes / </span><span class="file_name">val.js</span></a><a href="../../../../../../public/libs/jquery/src/attributes/classes.js.html" class="source "><span class="base_path">public / libs / jquery / src / attributes / </span><span class="file_name">classes.js</span></a><a href="../../../../../../public/libs/jquery/src/intro.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">intro.js</span></a><a href="../../../../../../public/libs/jquery/src/callbacks.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">callbacks.js</span></a><a href="../../../../../../public/libs/jquery/src/sizzle/dist/sizzle.min.js.html" class="source "><span class="base_path">public / libs / jquery / src / sizzle / dist / </span><span class="file_name">sizzle.min.js</span></a><a href="../../../../../../public/libs/jquery/src/sizzle/dist/sizzle.js.html" class="source "><span class="base_path">public / libs / jquery / src / sizzle / dist / </span><span class="file_name">sizzle.js</span></a><a href="../../../../../../public/libs/jquery/src/data.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">data.js</span></a><a href="../../../../../../public/libs/jquery/src/manipulation.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">manipulation.js</span></a><a href="../../../../../../public/libs/jquery/src/deferred.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">deferred.js</span></a><a href="../../../../../../public/libs/jquery/src/core/access.js.html" class="source "><span class="base_path">public / libs / jquery / src / core / </span><span class="file_name">access.js</span></a><a href="../../../../../../public/libs/jquery/src/core/parseHTML.js.html" class="source "><span class="base_path">public / libs / jquery / src / core / </span><span class="file_name">parseHTML.js</span></a><a href="../../../../../../public/libs/jquery/src/core/ready.js.html" class="source "><span class="base_path">public / libs / jquery / src / core / </span><span class="file_name">ready.js</span></a><a href="../../../../../../public/libs/jquery/src/core/var/rsingleTag.js.html" class="source "><span class="base_path">public / libs / jquery / src / core / var / </span><span class="file_name">rsingleTag.js</span></a><a href="../../../../../../public/libs/jquery/src/core/init.js.html" class="source "><span class="base_path">public / libs / jquery / src / core / </span><span class="file_name">init.js</span></a><a href="../../../../../../public/libs/jquery/src/css.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">css.js</span></a><a href="../../../../../../public/libs/jquery/src/ajax.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">ajax.js</span></a><a href="../../../../../../public/libs/jquery/src/jquery.js.html" class="source "><span class="base_path">public / libs / jquery / src / </span><span class="file_name">jquery.js</span></a><a href="../../../../../../public/libs/jquery/src/queue/delay.js.html" class="source "><span class="base_path">public / libs / jquery / src / queue / </span><span class="file_name">delay.js</span></a><a href="../../../../../../public/libs/jquery/src/css/addGetHookIf.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">addGetHookIf.js</span></a><a href="../../../../../../public/libs/jquery/src/css/hiddenVisibleSelectors.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">hiddenVisibleSelectors.js</span></a><a href="../../../../../../public/libs/jquery/src/css/swap.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">swap.js</span></a><a href="../../../../../../public/libs/jquery/src/css/var/cssExpand.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / var / </span><span class="file_name">cssExpand.js</span></a><a href="../../../../../../public/libs/jquery/src/css/var/rnumnonpx.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / var / </span><span class="file_name">rnumnonpx.js</span></a><a href="../../../../../../public/libs/jquery/src/css/var/rmargin.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / var / </span><span class="file_name">rmargin.js</span></a><a href="../../../../../../public/libs/jquery/src/css/var/getStyles.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / var / </span><span class="file_name">getStyles.js</span></a><a href="../../../../../../public/libs/jquery/src/css/var/isHidden.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / var / </span><span class="file_name">isHidden.js</span></a><a href="../../../../../../public/libs/jquery/src/css/defaultDisplay.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">defaultDisplay.js</span></a><a href="../../../../../../public/libs/jquery/src/css/support.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">support.js</span></a><a href="../../../../../../public/libs/jquery/src/css/curCSS.js.html" class="source "><span class="base_path">public / libs / jquery / src / css / </span><span class="file_name">curCSS.js</span></a><a href="../../../../../../public/libs/jquery/src/event/alias.js.html" class="source "><span class="base_path">public / libs / jquery / src / event / </span><span class="file_name">alias.js</span></a><a href="../../../../../../public/libs/jquery/src/event/support.js.html" class="source "><span class="base_path">public / libs / jquery / src / event / </span><span class="file_name">support.js</span></a><a href="../../../../../../public/libs/jquery/src/traversing/findFilter.js.html" class="source "><span class="base_path">public / libs / jquery / src / traversing / </span><span class="file_name">findFilter.js</span></a><a href="../../../../../../public/libs/jquery/src/traversing/var/rneedsContext.js.html" class="source "><span class="base_path">public / libs / jquery / src / traversing / var / </span><span class="file_name">rneedsContext.js</span></a><a href="../../../../../../public/libs/jquery/dist/jquery.min.js.html" class="source "><span class="base_path">public / libs / jquery / dist / </span><span class="file_name">jquery.min.js</span></a><a href="../../../../../../public/libs/jquery/dist/jquery.js.html" class="source "><span class="base_path">public / libs / jquery / dist / </span><span class="file_name">jquery.js</span></a><a href="../../../../../../public/libs/ngAutocomplete/examples/advanced.js.html" class="source "><span class="base_path">public / libs / ngAutocomplete / examples / </span><span class="file_name">advanced.js</span></a><a href="../../../../../../public/libs/ngAutocomplete/src/ngAutocomplete.js.html" class="source "><span class="base_path">public / libs / ngAutocomplete / src / </span><span class="file_name">ngAutocomplete.js</span></a><a href="../../../../../../public/libs/angular-animate/angular-animate.js.html" class="source "><span class="base_path">public / libs / angular-animate / </span><span class="file_name">angular-animate.js</span></a><a href="../../../../../../public/libs/angular-animate/angular-animate.min.js.html" class="source "><span class="base_path">public / libs / angular-animate / </span><span class="file_name">angular-animate.min.js</span></a><a href="../../../../../../public/libs/angular/angular.js.html" class="source "><span class="base_path">public / libs / angular / </span><span class="file_name">angular.js</span></a><a href="../../../../../../public/libs/angular/angular.min.js.html" class="source "><span class="base_path">public / libs / angular / </span><span class="file_name">angular.min.js</span></a><a href="../../../../../../public/js/app.js.html" class="source "><span class="base_path">public / js / </span><span class="file_name">app.js</span></a><a href="../../../../../../public/js/services/recs.js.html" class="source "><span class="base_path">public / js / services / </span><span class="file_name">recs.js</span></a><a href="../../../../../../public/js/controllers/main.js.html" class="source "><span class="base_path">public / js / controllers / </span><span class="file_name">main.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>dropdown.js</h1><div class="filepath">public/libs/semantic/src/definitions/modules/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><h1>Semantic - Dropdown</h1>

<p><a href='http://github.com/semantic-org/semantic-ui/'>http://github.com/semantic-org/semantic-ui/</a></p></div><div class="body"><p>Copyright 2014 Contributor<br />Released under the MIT license<br /><a href='http://opensource.org/licenses/MIT'>http://opensource.org/licenses/MIT</a></p></div></div>
</td><td class="code"><div class="highlight"><pre><span class="p">;(</span><span class="kd">function</span> <span class="p">(</span> <span class="nx">$</span><span class="p">,</span> <span class="nb">window</span><span class="p">,</span> <span class="nb">document</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">dropdown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span>
    <span class="nx">$allModules</span>    <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
    <span class="nx">$document</span>      <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">),</span>

    <span class="nx">moduleSelector</span> <span class="o">=</span> <span class="nx">$allModules</span><span class="p">.</span><span class="nx">selector</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>

    <span class="nx">hasTouch</span>       <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;ontouchstart&#39;</span> <span class="k">in</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">),</span>
    <span class="nx">time</span>           <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">(),</span>
    <span class="nx">performance</span>    <span class="o">=</span> <span class="p">[],</span>

    <span class="nx">query</span>          <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="nx">methodInvoked</span>  <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">query</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">),</span>
    <span class="nx">queryArguments</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="nx">returnedValue</span>
  <span class="p">;</span>

  <span class="nx">$allModules</span>
    <span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span>
        <span class="nx">settings</span>          <span class="o">=</span> <span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="p">)</span>
          <span class="o">?</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="p">{},</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">parameters</span><span class="p">)</span>
          <span class="o">:</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">.</span><span class="nx">settings</span><span class="p">),</span>

        <span class="nx">className</span>       <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">className</span><span class="p">,</span>
        <span class="nx">metadata</span>        <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">metadata</span><span class="p">,</span>
        <span class="nx">namespace</span>       <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">namespace</span><span class="p">,</span>
        <span class="nx">selector</span>        <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">selector</span><span class="p">,</span>
        <span class="nx">error</span>           <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span>

        <span class="nx">eventNamespace</span>  <span class="o">=</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">namespace</span><span class="p">,</span>
        <span class="nx">moduleNamespace</span> <span class="o">=</span> <span class="s1">&#39;module-&#39;</span> <span class="o">+</span> <span class="nx">namespace</span><span class="p">,</span>

        <span class="nx">$module</span>         <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
        <span class="nx">$text</span>           <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">text</span><span class="p">),</span>
        <span class="nx">$search</span>         <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">),</span>
        <span class="nx">$input</span>          <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">input</span><span class="p">),</span>

        <span class="nx">$combo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$module</span><span class="p">.</span><span class="nx">prev</span><span class="p">().</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">text</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
          <span class="o">?</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">prev</span><span class="p">().</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
          <span class="o">:</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">prev</span><span class="p">(),</span>

        <span class="nx">$menu</span>           <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">),</span>
        <span class="nx">$item</span>           <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">),</span>

        <span class="nx">activated</span>       <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nx">itemActivated</span>   <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>

        <span class="nx">element</span>         <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
        <span class="nx">instance</span>        <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">moduleNamespace</span><span class="p">),</span>
        <span class="nx">observer</span><span class="p">,</span>
        <span class="nx">module</span>
      <span class="p">;</span>

      <span class="nx">module</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Initializing dropdown&#39;</span><span class="p">,</span> <span class="nx">settings</span><span class="p">);</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">setup</span><span class="p">.</span><span class="nx">layout</span><span class="p">();</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">save</span><span class="p">.</span><span class="nx">defaults</span><span class="p">();</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">selected</span><span class="p">();</span>

          <span class="k">if</span><span class="p">(</span><span class="nx">hasTouch</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">touchEvents</span><span class="p">();</span>
          <span class="p">}</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">mouseEvents</span><span class="p">();</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">keyboardEvents</span><span class="p">();</span>

          <span class="nx">module</span><span class="p">.</span><span class="nx">observeChanges</span><span class="p">();</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">();</span>
        <span class="p">},</span>

        <span class="nx">instantiate</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Storing instance of dropdown&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">);</span>
          <span class="nx">instance</span> <span class="o">=</span> <span class="nx">module</span><span class="p">;</span>
          <span class="nx">$module</span>
            <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">moduleNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">)</span>
          <span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">destroy</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Destroying previous dropdown for&#39;</span><span class="p">,</span> <span class="nx">$module</span><span class="p">);</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">tabbable</span><span class="p">();</span>
          <span class="nx">$module</span>
            <span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">eventNamespace</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">moduleNamespace</span><span class="p">)</span>
          <span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">observeChanges</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span><span class="s1">&#39;MutationObserver&#39;</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MutationObserver</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">mutations</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;DOM tree modified, updating selector cache&#39;</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
            <span class="p">});</span>
            <span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="p">{</span>
              <span class="nx">childList</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
              <span class="nx">subtree</span>   <span class="o">:</span> <span class="kc">true</span>
            <span class="p">});</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Setting up mutation observer&#39;</span><span class="p">,</span> <span class="nx">observer</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">setup</span><span class="o">:</span> <span class="p">{</span>

          <span class="nx">layout</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;select&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">setup</span><span class="p">.</span><span class="nx">select</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">search</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchable</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">$search</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;input /&gt;&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">search</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">$text</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">allowTab</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">tabbable</span><span class="p">();</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">select</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">selectValues</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">selectValues</span><span class="p">()</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Dropdown initialized on a select&#39;</span><span class="p">,</span> <span class="nx">selectValues</span><span class="p">);</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>see if select exists inside a dropdown</p>
</td><td class="code"><div class="highlight"><pre>            <span class="nx">$input</span> <span class="o">=</span> <span class="nx">$module</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">$input</span><span class="p">.</span><span class="nx">parents</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Creating dropdown menu only from template&#39;</span><span class="p">);</span>
              <span class="nx">$module</span> <span class="o">=</span> <span class="nx">$input</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">);</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div /&gt;&#39;</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">menu</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">templates</span><span class="p">.</span><span class="nx">menu</span><span class="p">(</span> <span class="nx">selectValues</span> <span class="p">))</span>
                  <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$module</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Creating entire dropdown from template&#39;</span><span class="p">);</span>
              <span class="nx">$module</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div /&gt;&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="nx">$input</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">selection</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">templates</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">(</span><span class="nx">selectValues</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">$input</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="nx">$input</span>
                <span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">$module</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">refresh</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">$text</span>   <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
          <span class="nx">$search</span> <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
          <span class="nx">$input</span>  <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">input</span><span class="p">);</span>
          <span class="nx">$menu</span>   <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">);</span>
          <span class="nx">$item</span>   <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">toggle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Toggling menu visibility&#39;</span><span class="p">);</span>
          <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">active</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Checking if dropdown can show&#39;</span><span class="p">);</span>
          <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">active</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">can</span><span class="p">.</span><span class="nx">click</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">intent</span><span class="p">();</span>
              <span class="p">}</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">visible</span><span class="p">();</span>
            <span class="p">});</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">onShow</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">active</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Hiding dropdown&#39;</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">hide</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">visible</span><span class="p">();</span>
            <span class="p">});</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">onHide</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">hideOthers</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Finding other dropdowns to hide&#39;</span><span class="p">);</span>
          <span class="nx">$allModules</span>
            <span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">$module</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span> <span class="o">+</span> <span class="s1">&#39;:visible:not(.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">animating</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">dropdown</span><span class="p">(</span><span class="s1">&#39;hide&#39;</span><span class="p">)</span>
          <span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">hideSubMenus</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span>
            <span class="nx">$subMenus</span> <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">)</span>
          <span class="p">;</span>
          <span class="nx">$subMenus</span><span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;hide&#39;</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">bind</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">keyboardEvents</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Binding keyboard events&#39;</span><span class="p">);</span>
            <span class="nx">$module</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;keydown&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">keydown</span><span class="p">)</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchable</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">$module</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">inputEvent</span><span class="p">(),</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">input</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">touchEvents</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Touch device detected binding additional touch events&#39;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchSelection</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>do nothing special yet</p>
</td><td class="code"><div class="highlight"><pre>            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">$module</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">toggle</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">$menu</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">item</span><span class="p">.</span><span class="nx">mouseenter</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">mouseEvents</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Mouse detected binding mouse events&#39;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchSelection</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">$module</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">menu</span><span class="p">.</span><span class="nx">activate</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span>   <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">menu</span><span class="p">.</span><span class="nx">deactivate</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span>     <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">searchFocus</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span>     <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;blur&#39;</span>      <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">searchBlur</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">on</span> <span class="o">==</span> <span class="s1">&#39;click&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$module</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">toggle</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">on</span> <span class="o">==</span> <span class="s1">&#39;hover&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$module</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">show</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseleave&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">hide</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">$module</span>
                  <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">on</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">toggle</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="nx">$module</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">mousedown</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span>   <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">mouseup</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span>     <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">focus</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;blur&#39;</span>      <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">blur</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">$menu</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">item</span><span class="p">.</span><span class="nx">mouseenter</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;mouseleave&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">item</span><span class="p">.</span><span class="nx">mouseleave</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span>      <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">item</span><span class="p">.</span><span class="nx">click</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">intent</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Binding hide intent event to document&#39;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">hasTouch</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$document</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">touch</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;touchmove&#39;</span>  <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">touch</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">$document</span>
              <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">hide</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">unbind</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">intent</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Removing hide intent event from document&#39;</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">hasTouch</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$document</span>
                <span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;touchmove&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">$document</span>
              <span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;click&#39;</span> <span class="o">+</span> <span class="nx">eventNamespace</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">filter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span>
            <span class="nx">$results</span>       <span class="o">=</span> <span class="nx">$</span><span class="p">(),</span>
            <span class="nx">exactRegExp</span>    <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">&#39;(?:\s|^)&#39;</span> <span class="o">+</span> <span class="nx">searchTerm</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">),</span>
            <span class="nx">fullTextRegExp</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">),</span>
            <span class="nx">allItemsFiltered</span><span class="p">,</span>
            <span class="nx">$filteredItems</span>
          <span class="p">;</span>
          <span class="nx">$item</span>
            <span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
              <span class="kd">var</span>
                <span class="nx">$choice</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
                <span class="nx">text</span>    <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span>
                  <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
                  <span class="o">:</span> <span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span>
                    <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span>
                    <span class="o">:</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">text</span><span class="p">(),</span>
                <span class="nx">value</span>   <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                  <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
                  <span class="o">:</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span>
                      <span class="o">?</span> <span class="nx">text</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span>
                      <span class="o">:</span> <span class="nx">text</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">exactRegExp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">exactRegExp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">$results</span> <span class="o">=</span> <span class="nx">$results</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">$choice</span><span class="p">);</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">fullTextSearch</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span> <span class="nx">fullTextRegExp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">fullTextRegExp</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                  <span class="nx">$results</span> <span class="o">=</span> <span class="nx">$results</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">$choice</span><span class="p">);</span>
                <span class="p">}</span>
              <span class="p">}</span>
            <span class="p">})</span>
          <span class="p">;</span>
          <span class="nx">$filteredItems</span>   <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">$results</span><span class="p">);</span>
          <span class="nx">allItemsFiltered</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$filteredItems</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">==</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>

          <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">filteredItem</span><span class="p">();</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">selectedItem</span><span class="p">();</span>
          <span class="nx">$filteredItems</span>
            <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">)</span>
          <span class="p">;</span>
          <span class="nx">$item</span>
            <span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">selected</span><span class="p">)</span>
          <span class="p">;</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">allItemsFiltered</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">focusSearch</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">search</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">$search</span>
              <span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
            <span class="p">;</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">event</span><span class="o">:</span> <span class="p">{</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>prevents focus callback from occuring on mousedown</p>
</td><td class="code"><div class="highlight"><pre>          <span class="nx">mousedown</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">activated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">mouseup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">activated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">focus</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">activated</span> <span class="o">&amp;&amp;</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">hidden</span><span class="p">())</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">blur</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">activated</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">searchFocus</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">activated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
          <span class="p">},</span>
          <span class="nx">searchBlur</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">itemActivated</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">input</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">query</span> <span class="o">=</span> <span class="nx">$search</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchSelection</span><span class="p">())</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">can</span><span class="p">.</span><span class="nx">show</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
              <span class="p">}</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">filtered</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">keydown</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">selected</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
              <span class="nx">$visibleItems</span> <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">),</span>
              <span class="nx">pressedKey</span>    <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">which</span><span class="p">,</span>
              <span class="nx">keys</span>          <span class="o">=</span> <span class="p">{</span>
                <span class="nx">enter</span>     <span class="o">:</span> <span class="mi">13</span><span class="p">,</span>
                <span class="nx">escape</span>    <span class="o">:</span> <span class="mi">27</span><span class="p">,</span>
                <span class="nx">upArrow</span>   <span class="o">:</span> <span class="mi">38</span><span class="p">,</span>
                <span class="nx">downArrow</span> <span class="o">:</span> <span class="mi">40</span>
              <span class="p">},</span>
              <span class="nx">selectedClass</span>   <span class="o">=</span> <span class="nx">className</span><span class="p">.</span><span class="nx">selected</span><span class="p">,</span>
              <span class="nx">currentIndex</span>    <span class="o">=</span> <span class="nx">$visibleItems</span><span class="p">.</span><span class="nx">index</span><span class="p">(</span> <span class="nx">$selectedItem</span> <span class="p">),</span>
              <span class="nx">hasSelectedItem</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span>
              <span class="nx">$nextItem</span><span class="p">,</span>
              <span class="nx">newIndex</span>
            <span class="p">;</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>default to activated choice if no selection present</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">hasSelectedItem</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$selectedItem</span>   <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
              <span class="nx">hasSelectedItem</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>close shortcuts</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">pressedKey</span> <span class="o">==</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">escape</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Escape key pressed, closing dropdown&#39;</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
            <span class="p">}</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>result shortcuts</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">visible</span><span class="p">())</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">pressedKey</span> <span class="o">==</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">enter</span> <span class="o">&amp;&amp;</span> <span class="nx">hasSelectedItem</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Enter key pressed, choosing selected item&#39;</span><span class="p">);</span>
                <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">item</span><span class="p">.</span><span class="nx">click</span><span class="p">,</span> <span class="nx">$selectedItem</span><span class="p">)(</span><span class="nx">event</span><span class="p">);</span>
                <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">pressedKey</span> <span class="o">==</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">upArrow</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">hasSelectedItem</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">$nextItem</span> <span class="o">=</span> <span class="nx">$visibleItems</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">$nextItem</span> <span class="o">=</span> <span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">prevAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">item</span> <span class="o">+</span> <span class="s1">&#39;:not(.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Up key pressed, changing active item&#39;</span><span class="p">);</span>
                  <span class="nx">$item</span>
                    <span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">selectedClass</span><span class="p">)</span>
                  <span class="p">;</span>
                  <span class="nx">$nextItem</span>
                    <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">selectedClass</span><span class="p">)</span>
                  <span class="p">;</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">scrollPosition</span><span class="p">(</span><span class="nx">$nextItem</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">pressedKey</span> <span class="o">==</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">downArrow</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">hasSelectedItem</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">$nextItem</span> <span class="o">=</span> <span class="nx">$visibleItems</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">$nextItem</span> <span class="o">=</span> <span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">nextAll</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">item</span> <span class="o">+</span> <span class="s1">&#39;:not(.&#39;</span> <span class="o">+</span> <span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">currentIndex</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">$visibleItems</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Down key pressed, changing active item&#39;</span><span class="p">);</span>
                  <span class="nx">$item</span>
                    <span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">selectedClass</span><span class="p">)</span>
                  <span class="p">;</span>
                  <span class="nx">$nextItem</span>
                    <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">selectedClass</span><span class="p">)</span>
                  <span class="p">;</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">scrollPosition</span><span class="p">(</span><span class="nx">$nextItem</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
              <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">pressedKey</span> <span class="o">==</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">enter</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">test</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">toggle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">determine</span><span class="p">.</span><span class="nx">eventInMenu</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">toggle</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="nx">touch</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">determine</span><span class="p">.</span><span class="nx">eventInMenu</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s1">&#39;touchstart&#39;</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">touch</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s1">&#39;touchmove&#39;</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
                <span class="p">}</span>
              <span class="p">});</span>
              <span class="nx">event</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
            <span class="p">},</span>
            <span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">determine</span><span class="p">.</span><span class="nx">eventInModule</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">},</span>

          <span class="nx">menu</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">activate</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="nx">itemActivated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">},</span>
            <span class="nx">deactivate</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="nx">itemActivated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">item</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">mouseenter</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">var</span>
                <span class="nx">$currentMenu</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">),</span>
                <span class="nx">$otherMenus</span>  <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">item</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">$currentMenu</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">itemTimer</span><span class="p">);</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">itemTimer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">$otherMenus</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">module</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">hide</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
                  <span class="p">});</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Showing sub-menu&#39;</span><span class="p">,</span> <span class="nx">$currentMenu</span><span class="p">);</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span>  <span class="nx">$currentMenu</span><span class="p">);</span>
                <span class="p">},</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">show</span><span class="p">);</span>
                <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
              <span class="p">}</span>
            <span class="p">},</span>

            <span class="nx">mouseleave</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">var</span>
                <span class="nx">$currentMenu</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">$currentMenu</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">itemTimer</span><span class="p">);</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">itemTimer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Hiding sub-menu&#39;</span><span class="p">,</span> <span class="nx">$currentMenu</span><span class="p">);</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">hide</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span>  <span class="nx">$currentMenu</span><span class="p">);</span>
                <span class="p">},</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">hide</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">},</span>

            <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">var</span>
                <span class="nx">$choice</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
                <span class="nx">text</span>    <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span>
                  <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
                  <span class="o">:</span> <span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span>
                    <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span>
                    <span class="o">:</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">text</span><span class="p">(),</span>
                <span class="nx">value</span>   <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                  <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
                  <span class="o">:</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span>
                      <span class="o">?</span> <span class="nx">text</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span>
                      <span class="o">:</span> <span class="nx">text</span><span class="p">,</span>
                <span class="nx">callback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">searchTerm</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">filteredItem</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">determine</span><span class="p">.</span><span class="nx">selectAction</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
                <span class="p">},</span>
                <span class="nx">openingSubMenu</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$choice</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">menu</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="nx">openingSubMenu</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">callback</span><span class="p">();</span>
              <span class="p">}</span>
            <span class="p">}</span>

          <span class="p">},</span>

          <span class="nx">resetStyle</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">);</span>
          <span class="p">}</span>

        <span class="p">},</span>

        <span class="nx">determine</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">selectAction</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Determining action&#39;</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">action</span><span class="p">[</span><span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Triggering preset action&#39;</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">action</span><span class="p">[</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span> <span class="p">](</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Triggering user action&#39;</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
              <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">action</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">action</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">eventInModule</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">callback</span> <span class="o">=</span> <span class="nx">callback</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(){};</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="nx">$module</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Triggering event&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
              <span class="nx">callback</span><span class="p">();</span>
              <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Event occurred in dropdown, canceling callback&#39;</span><span class="p">);</span>
              <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">eventInMenu</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">callback</span> <span class="o">=</span> <span class="nx">callback</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(){};</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="nx">$menu</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Triggering event&#39;</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
              <span class="nx">callback</span><span class="p">();</span>
              <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Event occurred in dropdown menu, canceling callback&#39;</span><span class="p">);</span>
              <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">action</span><span class="o">:</span> <span class="p">{</span>

          <span class="nx">nothing</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>

          <span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">},</span>

          <span class="nx">select</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">value</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">value</span>
              <span class="o">:</span> <span class="nx">text</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">selected</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">},</span>

          <span class="nx">activate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">value</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">value</span>
              <span class="o">:</span> <span class="nx">text</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">selected</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">},</span>

          <span class="nx">combo</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">value</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">value</span>
              <span class="o">:</span> <span class="nx">text</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">selected</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>
          <span class="p">}</span>

        <span class="p">},</span>

        <span class="nx">get</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">text</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">$text</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
          <span class="p">},</span>
          <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">$input</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">$input</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>
              <span class="o">:</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">inputEvent</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">input</span> <span class="o">=</span> <span class="nx">$search</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">return</span> <span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">oninput</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                <span class="o">?</span> <span class="s1">&#39;input&#39;</span>
                <span class="o">:</span> <span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">onpropertychange</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                  <span class="o">?</span> <span class="s1">&#39;propertychange&#39;</span>
                  <span class="o">:</span> <span class="s1">&#39;keyup&#39;</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">selectValues</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">select</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">values</span> <span class="o">:</span> <span class="p">{}</span>
              <span class="p">}</span>
            <span class="p">;</span>
            <span class="nx">$module</span>
              <span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="kd">var</span>
                    <span class="nx">name</span>  <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">html</span><span class="p">(),</span>
                    <span class="nx">value</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span>
                      <span class="o">?</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
                      <span class="o">:</span> <span class="nx">name</span>
                  <span class="p">;</span>
                  <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">select</span><span class="p">.</span><span class="nx">placeholder</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
                  <span class="p">}</span>
                  <span class="k">else</span> <span class="p">{</span>
                    <span class="nx">select</span><span class="p">.</span><span class="nx">values</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
                  <span class="p">}</span>
                <span class="p">})</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Retrieved values from select&#39;</span><span class="p">,</span> <span class="nx">select</span><span class="p">);</span>
            <span class="k">return</span> <span class="nx">select</span><span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">item</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">strict</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="kc">false</span>
            <span class="p">;</span>
            <span class="nx">value</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">value</span>
              <span class="o">:</span> <span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">value</span><span class="p">()</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                <span class="o">?</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">value</span><span class="p">()</span>
                <span class="o">:</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span>
            <span class="p">;</span>
            <span class="nx">strict</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span> <span class="o">||</span> <span class="nx">value</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
              <span class="o">?</span> <span class="kc">true</span>
              <span class="o">:</span> <span class="nx">strict</span> <span class="o">||</span> <span class="kc">false</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$item</span>
                <span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="kd">var</span>
                    <span class="nx">$choice</span>       <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
                    <span class="nx">optionText</span>    <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span>
                      <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
                      <span class="o">:</span> <span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span>
                        <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span>
                        <span class="o">:</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">text</span><span class="p">(),</span>
                    <span class="nx">optionValue</span>   <span class="o">=</span> <span class="p">(</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span>
                      <span class="o">?</span> <span class="nx">$choice</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
                      <span class="o">:</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">optionText</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span>
                        <span class="o">?</span> <span class="nx">optionText</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span>
                        <span class="o">:</span> <span class="nx">optionText</span>
                  <span class="p">;</span>
                  <span class="k">if</span><span class="p">(</span><span class="nx">strict</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Ambiguous dropdown value using strict type check&#39;</span><span class="p">,</span> <span class="nx">$choice</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
                    <span class="k">if</span><span class="p">(</span> <span class="nx">optionValue</span> <span class="o">===</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
                      <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="nx">$selectedItem</span> <span class="o">&amp;&amp;</span> <span class="nx">optionText</span> <span class="o">===</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
                      <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                    <span class="p">}</span>
                  <span class="p">}</span>
                  <span class="k">else</span> <span class="p">{</span>
                    <span class="k">if</span><span class="p">(</span> <span class="nx">optionValue</span> <span class="o">==</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
                      <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Found select item by value&#39;</span><span class="p">,</span> <span class="nx">optionValue</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
                      <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                    <span class="p">}</span>
                    <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="nx">$selectedItem</span> <span class="o">&amp;&amp;</span> <span class="nx">optionText</span> <span class="o">==</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
                      <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Found select item by text&#39;</span><span class="p">,</span> <span class="nx">optionText</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
                      <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
                    <span class="p">}</span>
                  <span class="p">}</span>
                <span class="p">})</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">value</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">$selectedItem</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">restore</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">defaults</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">restore</span><span class="p">.</span><span class="nx">defaultText</span><span class="p">();</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">restore</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">();</span>
          <span class="p">},</span>
          <span class="nx">defaultText</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">defaultText</span> <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">defaultText</span><span class="p">)</span>
            <span class="p">;</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Restoring default text&#39;</span><span class="p">,</span> <span class="nx">defaultText</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">defaultText</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">defaultValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">defaultValue</span> <span class="o">=</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">)</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">defaultValue</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Restoring default value&#39;</span><span class="p">,</span> <span class="nx">defaultValue</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">selected</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">save</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">defaults</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">save</span><span class="p">.</span><span class="nx">defaultText</span><span class="p">();</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">save</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">();</span>
          <span class="p">},</span>
          <span class="nx">defaultValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">defaultValue</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">value</span><span class="p">()</span> <span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">defaultText</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">defaultText</span><span class="p">,</span> <span class="nx">$text</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span> <span class="p">);</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">set</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">filtered</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$text</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">tabbable</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchable</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Searchable dropdown initialized&#39;</span><span class="p">);</span>
              <span class="nx">$search</span>
                <span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="nx">$menu</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Simple selection dropdown initialized&#39;</span><span class="p">);</span>
              <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">$module</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">$module</span>
                  <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="p">;</span>
                <span class="nx">$menu</span>
                  <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">scrollPosition</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$item</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$item</span>         <span class="o">=</span> <span class="nx">$item</span> <span class="o">||</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">item</span><span class="p">(),</span>
              <span class="nx">hasActive</span>     <span class="o">=</span> <span class="p">(</span><span class="nx">$item</span> <span class="o">&amp;&amp;</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">),</span>
              <span class="nx">edgeTolerance</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
              <span class="nx">offset</span><span class="p">,</span>
              <span class="nx">itemHeight</span><span class="p">,</span>
              <span class="nx">itemOffset</span><span class="p">,</span>
              <span class="nx">menuOffset</span><span class="p">,</span>
              <span class="nx">menuScroll</span><span class="p">,</span>
              <span class="nx">menuHeight</span><span class="p">,</span>
              <span class="nx">abovePage</span><span class="p">,</span>
              <span class="nx">belowPage</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">$item</span> <span class="o">&amp;&amp;</span> <span class="nx">hasActive</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">menuHeight</span> <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">height</span><span class="p">();</span>
              <span class="nx">itemHeight</span> <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">height</span><span class="p">();</span>
              <span class="nx">menuScroll</span> <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">();</span>
              <span class="nx">menuOffset</span> <span class="o">=</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">;</span>
              <span class="nx">itemOffset</span> <span class="o">=</span> <span class="nx">$item</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span><span class="p">;</span>
              <span class="nx">offset</span>     <span class="o">=</span> <span class="nx">menuScroll</span> <span class="o">-</span> <span class="nx">menuOffset</span> <span class="o">+</span> <span class="nx">itemOffset</span><span class="p">;</span>
              <span class="nx">belowPage</span>  <span class="o">=</span> <span class="nx">menuScroll</span> <span class="o">+</span> <span class="nx">menuHeight</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">offset</span> <span class="o">+</span> <span class="nx">edgeTolerance</span><span class="p">);</span>
              <span class="nx">abovePage</span>  <span class="o">=</span> <span class="p">((</span><span class="nx">offset</span> <span class="o">-</span> <span class="nx">edgeTolerance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">menuScroll</span><span class="p">);</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">abovePage</span> <span class="o">||</span> <span class="nx">belowPage</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Scrolling to active item&#39;</span><span class="p">);</span>
                <span class="nx">$menu</span>
                  <span class="p">.</span><span class="nx">scrollTop</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span>
                <span class="p">;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">text</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">action</span> <span class="o">==</span> <span class="s1">&#39;combo&#39;</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Changing combo button text&#39;</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">$combo</span><span class="p">);</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$combo</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">$combo</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">action</span> <span class="o">!==</span> <span class="s1">&#39;select&#39;</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Changing text&#39;</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">$text</span><span class="p">);</span>
              <span class="nx">$text</span>
                <span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">placeholder</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$text</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">$text</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Adding selected value to hidden input&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">$input</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">$input</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">$input</span>
                <span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">&#39;change&#39;</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">$module</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">active</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span>
              <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">visible</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">visible</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">selected</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$selectedItem</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">item</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
              <span class="nx">selectedText</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">$selectedItem</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Setting selected menu item to&#39;</span><span class="p">,</span> <span class="nx">$selectedItem</span><span class="p">);</span>
              <span class="nx">selectedText</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
                <span class="o">?</span> <span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
                <span class="o">:</span> <span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">preserveHTML</span><span class="p">)</span>
                  <span class="o">?</span> <span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span>
                  <span class="o">:</span> <span class="nx">$selectedItem</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span>
              <span class="p">;</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">activeItem</span><span class="p">();</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">selectedItem</span><span class="p">();</span>
              <span class="nx">$selectedItem</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span>
                <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">selected</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">selectedText</span><span class="p">);</span>
              <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">onChange</span><span class="p">,</span> <span class="nx">element</span><span class="p">)(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">selectedText</span><span class="p">,</span> <span class="nx">$selectedItem</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">remove</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">active</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">visible</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$module</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">visible</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">activeItem</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$item</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">filteredItem</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$item</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">filtered</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">searchTerm</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$search</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">selectedItem</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">$item</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">selected</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">tabbable</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchable</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Searchable dropdown initialized&#39;</span><span class="p">);</span>
              <span class="nx">$search</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="nx">$menu</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Simple selection dropdown initialized&#39;</span><span class="p">);</span>
              <span class="nx">$module</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
              <span class="p">;</span>
              <span class="nx">$menu</span>
                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;tabindex&#39;</span><span class="p">,</span> <span class="s1">&#39;-1&#39;</span><span class="p">)</span>
              <span class="p">;</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">is</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">search</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">searchable</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">$search</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">searchSelection</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">searchable</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">$search</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">is</span><span class="p">(</span><span class="nx">$module</span><span class="p">)</span> <span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">selection</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">selection</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">animating</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">$subMenu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:animated&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">$subMenu</span><span class="p">.</span><span class="nx">transition</span> <span class="o">&amp;&amp;</span> <span class="nx">$subMenu</span><span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;is animating&#39;</span><span class="p">)</span>
              <span class="o">:</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:animated&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">transition</span> <span class="o">&amp;&amp;</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;is animating&#39;</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">active</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">active</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">visible</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">$subMenu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:visible&#39;</span><span class="p">)</span>
              <span class="o">:</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:visible&#39;</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">},</span>
          <span class="nx">hidden</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
              <span class="o">?</span> <span class="nx">$subMenu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:hidden&#39;</span><span class="p">)</span>
              <span class="o">:</span> <span class="nx">$menu</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:hidden&#39;</span><span class="p">)</span>
            <span class="p">;</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">can</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="nx">hasTouch</span> <span class="o">||</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">on</span> <span class="o">==</span> <span class="s1">&#39;click&#39;</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">!</span><span class="nx">$module</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">className</span><span class="p">.</span><span class="nx">disabled</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">animate</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">$subMenu</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$currentMenu</span> <span class="o">=</span> <span class="nx">$subMenu</span> <span class="o">||</span> <span class="nx">$menu</span><span class="p">,</span>
              <span class="nx">start</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
                <span class="o">?</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
                <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">hideSubMenus</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">hideOthers</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">active</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">set</span><span class="p">.</span><span class="nx">scrollPosition</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">;</span>
            <span class="nx">callback</span> <span class="o">=</span> <span class="nx">callback</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(){};</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Doing menu show animation&#39;</span><span class="p">,</span> <span class="nx">$currentMenu</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">hidden</span><span class="p">(</span><span class="nx">$currentMenu</span><span class="p">)</span> <span class="o">||</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">animating</span><span class="p">(</span><span class="nx">$currentMenu</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">transition</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;is supported&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">transition</span><span class="p">({</span>
                    <span class="nx">animation</span>  <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">+</span> <span class="s1">&#39; in&#39;</span><span class="p">,</span>
                    <span class="nx">debug</span>      <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">debug</span><span class="p">,</span>
                    <span class="nx">verbose</span>    <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">verbose</span><span class="p">,</span>
                    <span class="nx">duration</span>   <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span>
                    <span class="nx">queue</span>      <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nx">onStart</span>    <span class="o">:</span> <span class="nx">start</span><span class="p">,</span>
                    <span class="nx">onComplete</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                      <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                    <span class="p">}</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;slide down&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">start</span><span class="p">();</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">hide</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">children</span><span class="p">()</span>
                    <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                    <span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;opacity&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">delay</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
                      <span class="nx">opacity</span> <span class="o">:</span> <span class="mi">1</span>
                    <span class="p">},</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span> <span class="s1">&#39;easeOutQuad&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">end</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">slideDown</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;easeOutQuad&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">,</span> <span class="k">this</span><span class="p">)();</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;fade&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">start</span><span class="p">();</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">hide</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">,</span> <span class="k">this</span><span class="p">)();</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">transition</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">$subMenu</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">$currentMenu</span> <span class="o">=</span> <span class="nx">$subMenu</span> <span class="o">||</span> <span class="nx">$menu</span><span class="p">,</span>
              <span class="nx">duration</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
                <span class="o">?</span> <span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span> <span class="o">*</span> <span class="mf">0.9</span><span class="p">)</span>
                <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span>
              <span class="nx">start</span> <span class="o">=</span> <span class="p">(</span><span class="nx">$subMenu</span><span class="p">)</span>
                <span class="o">?</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
                <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">can</span><span class="p">.</span><span class="nx">click</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="nx">module</span><span class="p">.</span><span class="nx">unbind</span><span class="p">.</span><span class="nx">intent</span><span class="p">();</span>
                  <span class="p">}</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">focusSearch</span><span class="p">();</span>
                  <span class="nx">module</span><span class="p">.</span><span class="nx">remove</span><span class="p">.</span><span class="nx">active</span><span class="p">();</span>
                <span class="p">}</span>
            <span class="p">;</span>
            <span class="nx">callback</span> <span class="o">=</span> <span class="nx">callback</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(){};</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">visible</span><span class="p">(</span><span class="nx">$currentMenu</span><span class="p">)</span> <span class="o">||</span> <span class="nx">module</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">animating</span><span class="p">(</span><span class="nx">$currentMenu</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Doing menu hide animation&#39;</span><span class="p">,</span> <span class="nx">$currentMenu</span><span class="p">);</span>

              <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">transition</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">$module</span><span class="p">.</span><span class="nx">transition</span><span class="p">(</span><span class="s1">&#39;is supported&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">transition</span><span class="p">({</span>
                    <span class="nx">animation</span>  <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">+</span> <span class="s1">&#39; out&#39;</span><span class="p">,</span>
                    <span class="nx">duration</span>   <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span>
                    <span class="nx">debug</span>      <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">debug</span><span class="p">,</span>
                    <span class="nx">verbose</span>    <span class="o">:</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">verbose</span><span class="p">,</span>
                    <span class="nx">queue</span>      <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nx">onStart</span>    <span class="o">:</span> <span class="nx">start</span><span class="p">,</span>
                    <span class="nx">onComplete</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                      <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                    <span class="p">}</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;slide down&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">start</span><span class="p">();</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">show</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">children</span><span class="p">()</span>
                    <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                    <span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;opacity&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
                      <span class="nx">opacity</span> <span class="o">:</span> <span class="mi">0</span>
                    <span class="p">},</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;easeOutQuad&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">end</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">delay</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
                  <span class="p">.</span><span class="nx">slideUp</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;easeOutQuad&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">,</span> <span class="k">this</span><span class="p">)();</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">transition</span> <span class="o">==</span> <span class="s1">&#39;fade&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">start</span><span class="p">();</span>
                <span class="nx">$currentMenu</span>
                  <span class="p">.</span><span class="nx">show</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">clearQueue</span><span class="p">()</span>
                  <span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">resetStyle</span><span class="p">,</span> <span class="k">this</span><span class="p">)();</span>
                    <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">element</span><span class="p">)();</span>
                  <span class="p">})</span>
                <span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">transition</span><span class="p">);</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">delay</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">show</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Delaying show event to ensure user intent&#39;</span><span class="p">);</span>
            <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">show</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">show</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">hide</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="s1">&#39;Delaying hide event to ensure user intent&#39;</span><span class="p">);</span>
            <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">hide</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">.</span><span class="nx">hide</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="nx">setting</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;Changing setting&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
          <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nx">settings</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">settings</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">settings</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">internal</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nx">module</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">module</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">module</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">debug</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">debug</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span> <span class="o">=</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">,</span> <span class="nx">console</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">debug</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">verbose</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">verbose</span> <span class="o">&amp;&amp;</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">debug</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span> <span class="o">=</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">,</span> <span class="nx">console</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span><span class="p">);</span>
              <span class="nx">module</span><span class="p">.</span><span class="nx">verbose</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span> <span class="nx">console</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span><span class="p">);</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">error</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">console</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="nx">performance</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">log</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">currentTime</span><span class="p">,</span>
              <span class="nx">executionTime</span><span class="p">,</span>
              <span class="nx">previousTime</span>
            <span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">currentTime</span>   <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
              <span class="nx">previousTime</span>  <span class="o">=</span> <span class="nx">time</span> <span class="o">||</span> <span class="nx">currentTime</span><span class="p">;</span>
              <span class="nx">executionTime</span> <span class="o">=</span> <span class="nx">currentTime</span> <span class="o">-</span> <span class="nx">previousTime</span><span class="p">;</span>
              <span class="nx">time</span>          <span class="o">=</span> <span class="nx">currentTime</span><span class="p">;</span>
              <span class="nx">performance</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
                <span class="s1">&#39;Name&#39;</span>           <span class="o">:</span> <span class="nx">message</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="s1">&#39;Arguments&#39;</span>      <span class="o">:</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Element&#39;</span>        <span class="o">:</span> <span class="nx">element</span><span class="p">,</span>
                <span class="s1">&#39;Execution Time&#39;</span> <span class="o">:</span> <span class="nx">executionTime</span>
              <span class="p">});</span>
            <span class="p">}</span>
            <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
            <span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">display</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
          <span class="p">},</span>
          <span class="nx">display</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span>
              <span class="nx">title</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span>
              <span class="nx">totalTime</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="p">;</span>
            <span class="nx">time</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">module</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">timer</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">performance</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">totalTime</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">[</span><span class="s1">&#39;Execution Time&#39;</span><span class="p">];</span>
            <span class="p">});</span>
            <span class="nx">title</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">totalTime</span> <span class="o">+</span> <span class="s1">&#39;ms&#39;</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">moduleSelector</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">title</span> <span class="o">+=</span> <span class="s1">&#39; \&#39;&#39;</span> <span class="o">+</span> <span class="nx">moduleSelector</span> <span class="o">+</span> <span class="s1">&#39;\&#39;&#39;</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">group</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">console</span><span class="p">.</span><span class="nx">table</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">groupCollapsed</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
              <span class="k">if</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">performance</span><span class="p">);</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">performance</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">[</span><span class="s1">&#39;Execution Time&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;ms&#39;</span><span class="p">);</span>
                <span class="p">});</span>
              <span class="p">}</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="nx">performance</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">invoke</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="nx">passedArguments</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span>
            <span class="nx">object</span> <span class="o">=</span> <span class="nx">instance</span><span class="p">,</span>
            <span class="nx">maxDepth</span><span class="p">,</span>
            <span class="nx">found</span><span class="p">,</span>
            <span class="nx">response</span>
          <span class="p">;</span>
          <span class="nx">passedArguments</span> <span class="o">=</span> <span class="nx">passedArguments</span> <span class="o">||</span> <span class="nx">queryArguments</span><span class="p">;</span>
          <span class="nx">context</span>         <span class="o">=</span> <span class="nx">element</span>         <span class="o">||</span> <span class="nx">context</span><span class="p">;</span>
          <span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">query</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">object</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">query</span>    <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/[\. ]/</span><span class="p">);</span>
            <span class="nx">maxDepth</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">depth</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">var</span> <span class="nx">camelCaseValue</span> <span class="o">=</span> <span class="p">(</span><span class="nx">depth</span> <span class="o">!=</span> <span class="nx">maxDepth</span><span class="p">)</span>
                <span class="o">?</span> <span class="nx">value</span> <span class="o">+</span> <span class="nx">query</span><span class="p">[</span><span class="nx">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">query</span><span class="p">[</span><span class="nx">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="o">:</span> <span class="nx">query</span>
              <span class="p">;</span>
              <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span> <span class="nx">object</span><span class="p">[</span><span class="nx">camelCaseValue</span><span class="p">]</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">depth</span> <span class="o">!=</span> <span class="nx">maxDepth</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">object</span> <span class="o">=</span> <span class="nx">object</span><span class="p">[</span><span class="nx">camelCaseValue</span><span class="p">];</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="nx">object</span><span class="p">[</span><span class="nx">camelCaseValue</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">found</span> <span class="o">=</span> <span class="nx">object</span><span class="p">[</span><span class="nx">camelCaseValue</span><span class="p">];</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span> <span class="nx">object</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">depth</span> <span class="o">!=</span> <span class="nx">maxDepth</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">object</span> <span class="o">=</span> <span class="nx">object</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="nx">object</span><span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nx">found</span> <span class="o">=</span> <span class="nx">object</span><span class="p">[</span><span class="nx">value</span><span class="p">];</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
              <span class="p">}</span>
              <span class="k">else</span> <span class="p">{</span>
                <span class="nx">module</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span> <span class="nx">query</span><span class="p">);</span>
                <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
              <span class="p">}</span>
            <span class="p">});</span>
          <span class="p">}</span>
          <span class="k">if</span> <span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span> <span class="nx">found</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">response</span> <span class="o">=</span> <span class="nx">found</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">passedArguments</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">found</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">response</span> <span class="o">=</span> <span class="nx">found</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">returnedValue</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">returnedValue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">returnedValue</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">returnedValue</span> <span class="o">=</span> <span class="p">[</span><span class="nx">returnedValue</span><span class="p">,</span> <span class="nx">response</span><span class="p">];</span>
          <span class="p">}</span>
          <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">response</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">returnedValue</span> <span class="o">=</span> <span class="nx">response</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="nx">found</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">};</span>

      <span class="k">if</span><span class="p">(</span><span class="nx">methodInvoked</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">instance</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="nx">module</span><span class="p">.</span><span class="nx">invoke</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">instance</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">module</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="nx">module</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span><span class="nx">returnedValue</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span>
    <span class="o">?</span> <span class="nx">returnedValue</span>
    <span class="o">:</span> <span class="k">this</span>
  <span class="p">;</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>

  <span class="nx">debug</span>          <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">verbose</span>        <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">performance</span>    <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

  <span class="nx">on</span>             <span class="o">:</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span>
  <span class="nx">action</span>         <span class="o">:</span> <span class="s1">&#39;activate&#39;</span><span class="p">,</span>

  <span class="nx">allowTab</span>       <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">fullTextSearch</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">preserveHTML</span>   <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

  <span class="nx">delay</span>          <span class="o">:</span> <span class="p">{</span>
    <span class="nx">show</span>  <span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="nx">hide</span>  <span class="o">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="nx">touch</span> <span class="o">:</span> <span class="mi">50</span>
  <span class="p">},</span>

  <span class="nx">transition</span> <span class="o">:</span> <span class="s1">&#39;slide down&#39;</span><span class="p">,</span>
  <span class="nx">duration</span>   <span class="o">:</span> <span class="mi">250</span><span class="p">,</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Callbacks</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>  <span class="nx">onChange</span>   <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">text</span><span class="p">){},</span>
  <span class="nx">onShow</span>     <span class="o">:</span> <span class="kd">function</span><span class="p">(){},</span>
  <span class="nx">onHide</span>     <span class="o">:</span> <span class="kd">function</span><span class="p">(){},</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Component</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>  <span class="nx">name</span>           <span class="o">:</span> <span class="s1">&#39;Dropdown&#39;</span><span class="p">,</span>
  <span class="nx">namespace</span>      <span class="o">:</span> <span class="s1">&#39;dropdown&#39;</span><span class="p">,</span>

  <span class="nx">error</span>   <span class="o">:</span> <span class="p">{</span>
    <span class="nx">action</span>     <span class="o">:</span> <span class="s1">&#39;You called a dropdown action that was not defined&#39;</span><span class="p">,</span>
    <span class="nx">method</span>     <span class="o">:</span> <span class="s1">&#39;The method you called is not defined.&#39;</span><span class="p">,</span>
    <span class="nx">transition</span> <span class="o">:</span> <span class="s1">&#39;The requested transition was not found&#39;</span>
  <span class="p">},</span>

  <span class="nx">metadata</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">defaultText</span>  <span class="o">:</span> <span class="s1">&#39;defaultText&#39;</span><span class="p">,</span>
    <span class="nx">defaultValue</span> <span class="o">:</span> <span class="s1">&#39;defaultValue&#39;</span><span class="p">,</span>
    <span class="nx">text</span>         <span class="o">:</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
    <span class="nx">value</span>        <span class="o">:</span> <span class="s1">&#39;value&#39;</span>
  <span class="p">},</span>

  <span class="nx">selector</span> <span class="o">:</span> <span class="p">{</span>
    <span class="nx">dropdown</span> <span class="o">:</span> <span class="s1">&#39;.ui.dropdown&#39;</span><span class="p">,</span>
    <span class="nx">text</span>     <span class="o">:</span> <span class="s1">&#39;&gt; .text:not(.icon)&#39;</span><span class="p">,</span>
    <span class="nx">input</span>    <span class="o">:</span> <span class="s1">&#39;&gt; input[type=&quot;hidden&quot;], &gt; select&#39;</span><span class="p">,</span>
    <span class="nx">search</span>   <span class="o">:</span> <span class="s1">&#39;&gt; input.search, .menu &gt; .search &gt; input, .menu &gt; input.search&#39;</span><span class="p">,</span>
    <span class="nx">menu</span>     <span class="o">:</span> <span class="s1">&#39;.menu&#39;</span><span class="p">,</span>
    <span class="nx">item</span>     <span class="o">:</span> <span class="s1">&#39;.item&#39;</span>
  <span class="p">},</span>

  <span class="nx">className</span> <span class="o">:</span> <span class="p">{</span>
    <span class="nx">active</span>      <span class="o">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
    <span class="nx">animating</span>   <span class="o">:</span> <span class="s1">&#39;animating&#39;</span><span class="p">,</span>
    <span class="nx">disabled</span>    <span class="o">:</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span>
    <span class="nx">dropdown</span>    <span class="o">:</span> <span class="s1">&#39;ui dropdown&#39;</span><span class="p">,</span>
    <span class="nx">filtered</span>    <span class="o">:</span> <span class="s1">&#39;filtered&#39;</span><span class="p">,</span>
    <span class="nx">menu</span>        <span class="o">:</span> <span class="s1">&#39;menu&#39;</span><span class="p">,</span>
    <span class="nx">placeholder</span> <span class="o">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
    <span class="nx">search</span>      <span class="o">:</span> <span class="s1">&#39;search&#39;</span><span class="p">,</span>
    <span class="nx">selected</span>    <span class="o">:</span> <span class="s1">&#39;selected&#39;</span><span class="p">,</span>
    <span class="nx">selection</span>   <span class="o">:</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span>
    <span class="nx">visible</span>     <span class="o">:</span> <span class="s1">&#39;visible&#39;</span>
  <span class="p">}</span>

<span class="p">};</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Templates</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">dropdown</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">templates</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">menu</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">select</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span>
      <span class="nx">placeholder</span> <span class="o">=</span> <span class="nx">select</span><span class="p">.</span><span class="nx">placeholder</span> <span class="o">||</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">values</span>      <span class="o">=</span> <span class="nx">select</span><span class="p">.</span><span class="nx">values</span> <span class="o">||</span> <span class="p">{},</span>
      <span class="nx">html</span>        <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="p">;</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">select</span><span class="p">.</span><span class="nx">values</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;item&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;item&quot; data-value=&quot;&#39;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">dropdown</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">select</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span>
      <span class="nx">placeholder</span> <span class="o">=</span> <span class="nx">select</span><span class="p">.</span><span class="nx">placeholder</span> <span class="o">||</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">values</span>      <span class="o">=</span> <span class="nx">select</span><span class="p">.</span><span class="nx">values</span> <span class="o">||</span> <span class="p">{},</span>
      <span class="nx">html</span>        <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="p">;</span>
    <span class="nx">html</span> <span class="o">+=</span>  <span class="s1">&#39;&lt;i class=&quot;dropdown icon&quot;&gt;&lt;/i&gt;&#39;</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">select</span><span class="p">.</span><span class="nx">placeholder</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;default text&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">placeholder</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;text&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;menu&quot;&gt;&#39;</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">select</span><span class="p">.</span><span class="nx">values</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;item&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;item&quot; data-value=&quot;&#39;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">html</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Dependencies</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span> <span class="nx">$</span><span class="p">.</span><span class="nx">easing</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">easeOutQuad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">-</span><span class="nx">c</span> <span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="o">/=</span><span class="nx">d</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">});</span>


<span class="p">})(</span> <span class="nx">jQuery</span><span class="p">,</span> <span class="nb">window</span> <span class="p">,</span> <span class="nb">document</span> <span class="p">);</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Mon Dec 08 2014 17:05:04 GMT-0800 (PST)  </div></div></body></html>